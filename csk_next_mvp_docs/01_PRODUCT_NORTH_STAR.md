# 01 — Product / North Star UX

## Ключевой UX (инварианты)
1) **Одна точка входа**: пользователь почти всегда пишет `csk` (или `csk <intent>`).
2) **Ассистент ведёт**: после каждой команды печатается блок `NEXT:` (одна рекомендуемая команда + 0–2 альтернативы).
3) **Модульность**:
   - если задача затрагивает 1 модуль → сразу в модульный поток,
   - если много модулей → root делает разбиение и управляет прогрессом.
4) **Worktree per module по умолчанию** (opt‑out).
5) **Планирование с человеком**:
   - варианты A/B/C,
   - простые формулировки,
   - чёткие scope/non-scope,
   - понятные проверки (гейты).
6) **Исполнение автономно**:
   - кодинг/тесты/ревью делаются без участия человека,
   - человек приходит только на approve‑чекпойнты.
7) **Гейты “тяжёлые”**:
   - нельзя “случайно” получить READY,
   - каждое утверждение подтверждается артефактами (proofs).
8) **Проблемы → лог → ретро → улучшения**:
   - любая девиация фиксируется как Incident,
   - ретро обязательно и превращается в изменения Overlay (не Engine).

## Огромные задачи (как “переваривать”)
- Mission хранит **долгоиграющий план** (roadmap из milestone 1..N).
- В MVP **детально** планируется и исполняется только `milestone-1`.
- Остальные милстоуны — high‑level placeholders (backlog).
- WIP‑политика:
  - 1 активный milestone,
  - 1 активный task на модуль,
  - 1 активный slice на task.

## UX‑выводы, которые должны быть реализованы в CLI
- `csk` без аргументов = dashboard:
  - текущая миссия/милстоун,
  - статус модулей,
  - блокеры,
  - `NEXT:` команда.
- `csk module <id>` = module dashboard:
  - фаза (planning/execution/ready/retro),
  - активный task/slice,
  - `NEXT:` команда.
- `csk run` = “сделай следующий шаг” (на основе состояния).
- `csk approve` = подтверждение человеком (plan/ready).

## Неприятные, но обязательные UX‑условия
- Любая команда должна быть **идемпотентной** там, где это возможно (bootstrap, generate, status).
- Любая ошибка должна:
  - быть записана как событие (и, если это девиация процесса, как incident),
  - завершать команду понятным сообщением,
  - давать `NEXT:` с вариантом “как продолжить”.

